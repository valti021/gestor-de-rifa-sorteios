<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Criar Rifa</title>



</head>
<body>

<!-- Modal -->
<div id="modal-criar-rifa" class="modal-criar-rifa">
    <div class="modal-content-form-rifa">

        <span id="fechar-modal-rifa" class="fechar">&times;</span>
        <h2>Criar Nova Rifa</h2>

        <!-- Labels no lugar dos inputs hidden -->
        <div class="label-organizador-container">
            <label class="email-organizador">Email do organizador: <strong id="email-label"></strong></label>
            <label class="nome-organizador">Organizador: <strong id="organizador-label"></strong></label>
        </div>

        <form id="form-criar-rifa" enctype="multipart/form-data">



            <!-- Tipo de dezenas -->
            <label class="quantidade-dezenas" for="tipo_quantidade_dezenas">Quantidade de dezenas:</label>
            <select id="tipo_quantidade_dezenas" name="tipo_quantidade_dezenas">
                <option value="1000">000 - 999 (1000 números)</option>
                <option value="100">00 - 99 (100 números)</option>
                <option value="25">25 Grupos (25 números)</option>
            </select>

            <label class="valor-dezena" for="valor_dezena">Valor da dezena (R$):</label>
            <input type="number" step="0.01" id="valor_dezena" name="valor_dezena" required>

            <label for="nome_premio">Nome da Rifa:</label>
            <input type="text" id="nome_premio" name="nome_premio" required>

            <label for="descricao">Descrição da Rifa:</label>
            <textarea id="descricao" name="descricao"></textarea>

            <label for="valor_premio">Valor do prêmio (R$):</label>
            <input type="number" step="0.01" id="valor_premio" name="valor_premio" required>

            <!-- Tipo de sorteio -->
            <label for="tipo_sorteio">Tipo de sorteio:</label>
            <select name="tipo_sorteio" id="tipo_sorteio">
                <option value="automatico" selected>Automático (programado)</option>
                <option value="semi-federal">Semiautomático (Federal)</option>
                <option value="beta">Beta (API não confiável)</option>
            </select>

            <div class="data-sorteio-container">
                <label>Data do sorteio:</label>

                <div class="select-group">
                    <select id="dia_semana" name="dia_semana" required>
                        <option value="">Selecione o dia da semana</option>
                    </select>

                    <select id="mes" name="mes" required>
                        <option value="">Selecione o mês</option>
                    </select>

                    <select id="ano" name="ano" required>
                        <option value="">Selecione o ano</option>
                    </select>

                    <select id="horario" name="horario" required>
                        <option value="">Selecione o horário</option>
                    </select>
                </div>

                <!-- SELECT da data final (agora correto) -->
                <div class="data-final">
                    <label for="data_sorteio">Datas disponíveis:</label>

                    <select id="data_sorteio" name="data_sorteio" required>
                        <option value="">Selecione a data do sorteio</option>
                    </select>
                </div>

                <!-- Área opcional para mensagens futuras -->
                <div class="datas-sabados" id="datas_lista" style="display: none;">
                    <h4 id="titulo_datas"></h4>
                    <div id="lista_datas"></div>
                </div>
            </div>


            <!-- INPUT DE IMAGEM ESTILIZADO -->
            <label for="imagem">Imagem do prêmio (PNG/JPG):</label>
            <div class="file-input-wrapper">
                <input 
                    type="file" 
                    id="imagem" 
                    name="imagem" 
                    accept="image/png,image/jpeg" 
                    required 
                    class="file-input"
                >
                <div class="upload-area" id="uploadArea">
                    <div class="upload-icon">
                        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12" />
                        </svg>
                    </div>
                    <h3 class="upload-title">Arraste a imagem aqui</h3>
                    <p class="upload-subtitle">ou</p>
                    <div class="browse-button">Clique aqui e importe</div>
                    <p class="formats-info">Formatos suportados: PNG e JPG</p>
                </div>
            </div>
            <!-- Área de erro da imagem -->
            <div id="erro-imagem" 
                style="color: #d32f2f; 
                        font-size: 14px; 
                        font-weight: 600; 
                        margin-top: 8px; 
                        display: none; 
                        font-family: 'Poppins', sans-serif;">
            </div>

            
            <div class="file-info" id="fileInfo"></div>
            <div class="preview-container" id="previewContainer">
                <label style="margin-bottom: 5px;">Pré-visualização:</label>
                <img class="preview-image" id="previewImage">
            </div>

            <!-- Visibilidade -->
            <label for="visibilidade">Visibilidade:</label>
            <select name="visibilidade" id="visibilidade">
                <option value="publica" selected>Pública</option>
                <option value="privada">Privada</option>
            </select>

            <!-- Pagamento -->
            <label for="modelo_pagamento">Modelo de pagamento:</label>
            <select name="modelo_pagamento" id="modelo_pagamento">
                <option value="pix" selected>PIX</option>
                <option value="cedulas">Cédulas</option>
                <option value="cartao" class="riscado">Cartão (indisponível)</option>
            </select>

            <div id="campo-pix">
                <label for="chave_pix">Chave PIX:</label>
                <input type="text" id="chave_pix" name="chave_pix" placeholder="Telefone ou CPF">
            </div>

            <!-- Lucro final (hidden para salvar) -->
            <input type="hidden" name="lucro_final" id="lucro_final">

            <div id="resultado-calculo">
                <!-- Estrutura para o JS preencher -->
                <div>
                    <strong>Quantidade de números:</strong> <span id="qtd-numeros">0</span>
                </div>
                <div>
                    <strong>Valor por dezena:</strong> R$ <span id="valor-dezena">0.00</span>
                </div>
                <div>
                    <strong>Valor do prêmio:</strong> R$ <span id="valor-premio">0.00</span>
                </div>
                <hr style="margin: 5px 0;">
                
                <!-- Parte condicional - TODAS AS MENSAGENS JÁ NO HTML (inicialmente escondidas) -->
                <div id="msg-completo" style="display: none;">
                    <em>Digite o valor da dezena e do prêmio para ver o cálculo completo</em>
                </div>
                
                <div id="msg-sem-premio" style="display: none;">
                    <div><strong>Arrecadação Total:</strong> R$ <span id="arrecadacao-sem-premio">0.00</span></div>
                    <div><em>Digite o valor do prêmio para ver o lucro final</em></div>
                </div>
                
                <div id="msg-sem-dezena" style="display: none;">
                    <div><strong>Valor do Prêmio:</strong> R$ <span id="valor-premio-fixo">0.00</span></div>
                    <div><em>Digite o valor da dezena para ver o lucro final</em></div>
                </div>
                
                <div id="detalhes-calculo" style="display: none;">
                    <div><strong>Arrecadação Total:</strong> R$ <span id="arrecadacao-total">0.00</span></div>
                    <div><strong>Valor do Prêmio:</strong> R$ <span id="valor-premio-calculo">0.00</span></div>
                    <div>
                        <strong id="lucro-estimado-texto" style="color: #2e7d32;">
                            Lucro estimado:
                        </strong>
                        R$ <span id="valor-lucro">0.00</span>
                    </div>
                </div>
            </div>

            <br>
            <button class="botao-salvar-rifa" type="submit">Criar Rifa</button>
        </form>
    </div>
</div>



</body>
</html>